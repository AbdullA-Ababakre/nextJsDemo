{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/bytedance/Desktop/06-onwards-to-a-bigger-project-starting-project/pages/signin.js\",\n    _s = $RefreshSig$();\n\nimport { signIn } from \"next-auth/react\";\nimport { useState, useEffect } from 'react';\nexport var __N_SSP = true;\nexport default function SignIn(_ref) {\n  _s();\n\n  var _this = this;\n\n  var csrfToken = _ref.csrfToken,\n      providers = _ref.providers;\n\n  var _useState = useState(''),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(''),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useState3 = useState(null),\n      message = _useState3[0],\n      setMessage = _useState3[1];\n\n  var signInUser = function signInUser(e) {\n    e.preventDefault();\n    console.log(\"email,password\", email, password);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      method: \"post\",\n      action: \"/api/auth/signin/email\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"csrfToken\",\n        type: \"hidden\",\n        defaultValue: csrfToken\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Email address\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          name: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Sign in with Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      action: \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"csrfToken\",\n        type: \"hidden\",\n        defaultValue: csrfToken\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Email address\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          name: \"email\",\n          value: email,\n          onChange: function onChange(e) {\n            return setEmail(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Password\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          name: \"email\",\n          value: password,\n          onChange: function onChange(e) {\n            return setPassword(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: function onClick(e) {\n          return signInUser(e);\n        },\n        children: \"Sign in with Credentials\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this), Object.values(providers).map(function (provider) {\n      if (provider.name === 'Email') {\n        return;\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: function onClick() {\n            return signIn(provider.id);\n          },\n          children: [\"Sign in with \", provider.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 29\n        }, _this)\n      }, provider.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 25\n      }, _this);\n    })]\n  }, void 0, true);\n}\n\n_s(SignIn, \"suAhg5HC4OZxlucSGWNl5CMhv24=\");\n\n_c = SignIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"sources":["/Users/bytedance/Desktop/06-onwards-to-a-bigger-project-starting-project/pages/signin.js"],"names":["signIn","useState","useEffect","SignIn","csrfToken","providers","email","setEmail","password","setPassword","message","setMessage","signInUser","e","preventDefault","console","log","target","value","Object","values","map","provider","name","id"],"mappings":"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","sourcesContent":["import { getCsrfToken, getProviders, signIn, getSession } from \"next-auth/react\";\nimport {useState,useEffect} from 'react';\n\nexport default function SignIn({ csrfToken,providers }) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [message, setMessage] = useState(null);\n\n    const signInUser = (e) => {\n        e.preventDefault();\n        console.log(\"email,password\", email, password);\n    }\n\n    return (\n        <>\n            <form method=\"post\" action=\"/api/auth/signin/email\">\n                <input name=\"csrfToken\" type=\"hidden\" defaultValue={csrfToken} />\n                <label>\n                    Email address\n                    <input type=\"email\" id=\"email\" name=\"email\" />\n                </label>\n                <button type=\"submit\">Sign in with Email</button>\n            </form>\n\n            <form action=\"\">\n                <input name=\"csrfToken\" type=\"hidden\" defaultValue={csrfToken} />\n                <label>\n                    Email address\n                    <input type=\"email\" id=\"email\" name=\"email\" value={email} onChange={e => setEmail(e.target.value)} />\n                </label>\n                <label>\n                    Password\n                    <input type=\"email\" id=\"email\" name=\"email\" value={password} onChange={e => setPassword(e.target.value)} />\n                </label>\n                <button onClick={(e) => signInUser(e)}>Sign in with Credentials</button>\n            </form>\n\n\n\n            {\n                Object.values(providers).map((provider) => {\n                    if (provider.name === 'Email') {\n                        return;\n                    }\n                    return (\n                        <div key={provider.name}>\n                            <button onClick={() => signIn(provider.id)}>\n                                Sign in with {provider.name}\n                            </button>\n                        </div>\n                    )\n                })\n            }\n        </>\n    )\n}\n\nexport async function getServerSideProps(context) {\n    const { req } = context;\n    const session = await getSession({ req })\n    if (session) {\n        // Signed in\n        return {\n            redirect: { destination: \"/\" }\n        }\n    }\n    const csrfToken = await getCsrfToken(context);\n    const providers = await getProviders();\n\n    return {\n        props: { csrfToken, providers }\n    }\n}"]},"metadata":{},"sourceType":"module"}